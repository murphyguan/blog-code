{"remainingRequest":"E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\babel-loader\\lib\\index.js!E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JAVA\\blog\\blog-code\\web\\blog\\src\\components\\Reply.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JAVA\\blog\\blog-code\\web\\blog\\src\\components\\Reply.vue","mtime":1713440622000},{"path":"E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728701076490},{"path":"E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1728701077185},{"path":"E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1728701077859},{"path":"E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1728701076490},{"path":"E:\\JAVA\\blog\\blog-code\\web\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1728701077734}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEVtb2ppIGZyb20gIi4vRW1vamkiOwppbXBvcnQgRW1vamlMaXN0IGZyb20gIi4uL2Fzc2V0cy9qcy9lbW9qaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFbW9qaTogRW1vamkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmRleDogMCwKICAgICAgY2hvb3NlRW1vamk6IGZhbHNlLAogICAgICBuaWNrbmFtZTogIiIsCiAgICAgIHJlcGx5VXNlcklkOiBudWxsLAogICAgICBwYXJlbnRJZDogbnVsbCwKICAgICAgY29tbWVudENvbnRlbnQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2FuY2xlUmVwbHk6IGZ1bmN0aW9uIGNhbmNsZVJlcGx5KCkgewogICAgICB0aGlzLiRyZWZzLnJlcGx5LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9LAogICAgaW5zZXJ0UmVwbHk6IGZ1bmN0aW9uIGluc2VydFJlcGx5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy/liKTmlq3nmbvlvZUKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS51c2VySWQpIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpbkZsYWcgPSB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY29tbWVudENvbnRlbnQudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6ICLlm57lpI3kuI3og73kuLrnqboiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8v6Kej5p6Q6KGo5oOFCgoKICAgICAgdmFyIHJlZyA9IC9cWy4rP1xdL2c7CiAgICAgIHRoaXMuY29tbWVudENvbnRlbnQgPSB0aGlzLmNvbW1lbnRDb250ZW50LnJlcGxhY2UocmVnLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgcmV0dXJuICI8aW1nIHNyYz0gJyIgKyBFbW9qaUxpc3Rbc3RyXSArICInIHdpZHRoPScyMidoZWlnaHQ9JzIwJyBzdHlsZT0ncGFkZGluZzogMCAxcHgnLz4iOwogICAgICB9KTsKICAgICAgdmFyIHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICB2YXIgYXJyID0gcGF0aC5zcGxpdCgiLyIpOwogICAgICB2YXIgY29tbWVudCA9IHsKICAgICAgICBhcnRpY2xlSWQ6IGFyclsyXSwKICAgICAgICByZXBseVVzZXJJZDogdGhpcy5yZXBseVVzZXJJZCwKICAgICAgICBwYXJlbnRJZDogdGhpcy5wYXJlbnRJZCwKICAgICAgICBjb21tZW50Q29udGVudDogdGhpcy5jb21tZW50Q29udGVudAogICAgICB9OwogICAgICB0aGlzLmNvbW1lbnRDb250ZW50ID0gIiI7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2FwaS9jb21tZW50cyIsIGNvbW1lbnQpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEuZmxhZykgewogICAgICAgICAgX3RoaXMuJGVtaXQoInJlbG9hZFJlcGx5IiwgX3RoaXMuaW5kZXgpOwoKICAgICAgICAgIF90aGlzLiR0b2FzdCh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuWbnuWkjeaIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkRW1vamk6IGZ1bmN0aW9uIGFkZEVtb2ppKHRleHQpIHsKICAgICAgdGhpcy5jb21tZW50Q29udGVudCArPSB0ZXh0OwogICAgfQogIH0KfTs="},{"version":3,"sources":["Reply.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,KAAA,MAAA,SAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GADA;AAIA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,IAJA;AAKA,MAAA,QAAA,EAAA,IALA;AAMA,MAAA,cAAA,EAAA;AANA,KAAA;AAQA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AAAA;;AACA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,KAAA,cAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AACA,eAAA,KAAA;AACA,OATA,CAUA;;;AACA,UAAA,GAAA,GAAA,UAAA;AACA,WAAA,cAAA,GAAA,KAAA,cAAA,CAAA,OAAA,CAAA,GAAA,EAAA,UAAA,GAAA,EAAA;AACA,eACA,gBACA,SAAA,CAAA,GAAA,CADA,GAEA,kDAHA;AAKA,OANA,CAAA;AAOA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,IAAA;AACA,UAAA,GAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,SAAA,EAAA,GAAA,CAAA,CAAA,CADA;AAEA,QAAA,WAAA,EAAA,KAAA,WAFA;AAGA,QAAA,QAAA,EAAA,KAAA,QAHA;AAIA,QAAA,cAAA,EAAA,KAAA;AAJA,OAAA;AAMA,WAAA,cAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,eAAA,EAAA,OAAA,EAAA,IAAA,CAAA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA;AAAA,YAAA,IAAA,EAAA,SAAA;AAAA,YAAA,OAAA,EAAA;AAAA,WAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA;AAAA,YAAA,IAAA,EAAA,OAAA;AAAA,YAAA,OAAA,EAAA,IAAA,CAAA;AAAA,WAAA;AACA;AACA,OAPA;AAQA,KAxCA;AAyCA,IAAA,QAzCA,oBAyCA,IAzCA,EAyCA;AACA,WAAA,cAAA,IAAA,IAAA;AACA;AA3CA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"reply-input-wrapper\" style=\"display: none\" ref=\"reply\">\n    <textarea\n      class=\"comment-textarea\"\n      :placeholder=\"'回复 @' + nickname + '：'\"\n      auto-grow\n      dense\n      v-model=\"commentContent\"\n    />\n    <div class=\"emoji-container\">\n      <span\n        :class=\"chooseEmoji ? 'emoji-btn-active' : 'emoji-btn'\"\n        @click=\"chooseEmoji = !chooseEmoji\"\n      >\n        <i class=\"iconfont iconbiaoqing\" />\n      </span>\n      <div style=\"margin-left:auto\">\n        <button @click=\"cancleReply\" class=\"cancle-btn v-comment-btn\">\n          取消\n        </button>\n        <button @click=\"insertReply\" class=\"upload-btn v-comment-btn\">\n          提交\n        </button>\n      </div>\n    </div>\n    <!-- 表情框 -->\n    <emoji @addEmoji=\"addEmoji\" :chooseEmoji=\"chooseEmoji\"></emoji>\n  </div>\n</template>\n\n<script>\nimport Emoji from \"./Emoji\";\nimport EmojiList from \"../assets/js/emoji\";\nexport default {\n  components: {\n    Emoji\n  },\n  data: function() {\n    return {\n      index: 0,\n      chooseEmoji: false,\n      nickname: \"\",\n      replyUserId: null,\n      parentId: null,\n      commentContent: \"\"\n    };\n  },\n  methods: {\n    cancleReply() {\n      this.$refs.reply.style.display = \"none\";\n    },\n    insertReply() {\n      //判断登录\n      if (!this.$store.state.userId) {\n        this.$store.state.loginFlag = true;\n        return false;\n      }\n      if (this.commentContent.trim() == \"\") {\n        this.$toast({ type: \"error\", message: \"回复不能为空\" });\n        return false;\n      }\n      //解析表情\n      var reg = /\\[.+?\\]/g;\n      this.commentContent = this.commentContent.replace(reg, function(str) {\n        return (\n          \"<img src= '\" +\n          EmojiList[str] +\n          \"' width='22'height='20' style='padding: 0 1px'/>\"\n        );\n      });\n      const path = this.$route.path;\n      const arr = path.split(\"/\");\n      var comment = {\n        articleId: arr[2],\n        replyUserId: this.replyUserId,\n        parentId: this.parentId,\n        commentContent: this.commentContent\n      };\n      this.commentContent = \"\";\n      this.axios.post(\"/api/comments\", comment).then(({ data }) => {\n        if (data.flag) {\n          this.$emit(\"reloadReply\", this.index);\n          this.$toast({ type: \"success\", message: \"回复成功\" });\n        } else {\n          this.$toast({ type: \"error\", message: data.message });\n        }\n      });\n    },\n    addEmoji(text) {\n      this.commentContent += text;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.reply-input-wrapper {\n  border: 1px solid #90939950;\n  border-radius: 4px;\n  padding: 10px;\n  margin: 0 0 10px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}